---
title: Transaction Fees
description:
  Learn about Solana's transaction fees, including the base and priority fees,
  how each is applied, and best practices for managing compute units in your
  transactions.
---
## Overview
Every Solana transaction requires a base fee (paid in SOL) to compensate validators for
processing the transaction. You can also pay an optional prioritization fee to
increase the chance that the current leader (validator) processes your
transaction.

## Base transaction fee

The base fee is the cost to send a transaction. The cost is 5000 lamports per
signature included in the transaction.

The base fee is paid by the first signer on the transaction. The fee payer must be an account
owned by the System Program.

Solana splits each base fee as follows: 

- **50% burned:** Half of the base fee gets taken out of the circulating SOL supply.
- **50% distributed:** Half is paid to the validator that processed the transaction.

See relevant code for [burning 50%](https://github.com/anza-xyz/agave/blob/v2.1.13/sdk/fee-calculator/src/lib.rs#L70) 
and [distributing 50%](https://github.com/anza-xyz/agave/blob/e621336acad4f5d6e5b860eaa1b074b01c99253c/runtime/src/bank/fee_distribution.rs#L58-L62) 
of the base fee.

## Prioritization fee

The prioritization fee is an optional fee paid to increase the chance that the
current leader processes your transaction, which will increase the speed of your transaction. 
The validator processing the transaction receives 100% of the priority fee.

{/* I removed the link, because it just shows the 2023 proposal to change the allocation of 
the prioritization fee from 50% to the validator to 100% to the validator. The history seems
unnecessary for explaining the core concepts and is distracting */}

The prioritization fee is determined based on two variables: 
  - **Compute unit limit**
  - **Compute unit price**

### Compute unit limit

When a transaction is processed, it uses up computational resources. These resources are measured in
compute units (CU). Each transaction has a compute unit limit that determines how many compute units
 it can use.

- **Max Limit:** A transaction can use up to
  [1.4 million compute units](https://github.com/anza-xyz/agave/blob/v2.1.13/compute-budget/src/compute_budget_limits.rs#L14).
- **Default Limit:** By default, each instruction uses
  [200,000 compute units](https://github.com/anza-xyz/agave/blob/v2.1.13/compute-budget/src/compute_budget_limits.rs#L10).
- **Custom Limit:** You can request a specific compute unit limit by including a
  `SetComputeUnitLimit` instruction in your transaction.

For more details on compute unit usage, consult the following:

- [ComputeBudget](https://github.com/anza-xyz/agave/blob/v2.1.13/compute-budget/src/compute_budget.rs#L22-L130)
- [Compute Unit Consumption Defaults](https://github.com/anza-xyz/agave/blob/v2.1.13/compute-budget/src/compute_budget.rs#L149-L197)
- [How to Request Optimal Compute](/developers/guides/advanced/how-to-request-optimal-compute)

### Compute unit price

The compute unit price is an optional amount, specified in micro-lamports, that
you pay for each compute unit requested. You can think of the compute unit price as a "tip" for the validator to encourage them to prioritize your transaction. 

<Callout>1,000,000 micro-lamports = 1 lamport</Callout>

See the
[How to Use Priority Fees](/developers/guides/advanced/how-to-use-priority-fees)
guide for more details on priority fees.

### Calculate prioritization fee

Use the following formula to calculate your prioritization fee:

**Prioritization Fee = Compute Unit Limit Ã— Compute Unit Price**

See relevant code regarding calculating [prioritization fees](https://github.com/anza-xyz/agave/blob/v2.2.14/compute-budget/src/compute_budget_limits.rs#L47-L48).

#### Calculate compute unit limit
The recommended approach for calculating the `Compute Unit Limit` is to first
[simulate](/developers/guides/advanced/how-to-request-optimal-compute) the
transaction to estimate the required compute units. Then, add a 10% safety
margin to this estimate.

{/* Compute unit limit is in backticks here, but nowhere else. Not sure whether it's appropriate here 
or if it should be included everywhere*/}

#### Calculate compute unit price
Use these resources to get real-time recommendations on the current compute unit
price:

| Provider                                | Priority Fee API                                                                  |
| --------------------------------------- | --------------------------------------------------------------------------------- |
| [Helius](https://www.helius.dev/)       | [Documentation](https://docs.helius.dev/solana-apis/priority-fee-api)             |
| [QuickNode](https://www.quicknode.com/) | [Documentation](https://marketplace.quicknode.com/add-on/solana-priority-fee)     |
| [Triton](https://triton.one/)           | [Documentation](https://docs.triton.one/chains/solana/improved-priority-fees-api) |


Use these instructions to set the compute unit limit and price on a transaction:

- [`SetComputeUnitLimit`](https://github.com/anza-xyz/agave/blob/v2.1.13/sdk/src/compute_budget.rs#L42-L44)
  to set a specific unit limit
- [`SetComputeUnitPrice`](https://github.com/anza-xyz/agave/blob/v2.1.13/sdk/src/compute_budget.rs#L48-L50)
  to define the price per compute unit

<Callout>

If you don't provide these instructions, the transaction uses the default
compute unit limit with a compute unit price of 0 (no prioritization fee).

The priority fee depends on the compute unit limit you request for the
transaction, not the actual compute units used. If you set a compute unit limit
that's too high or use the default amount, you might pay for unused compute
units.

</Callout>

#### Examples

The following examples show how to set the compute unit limit and price for a
transaction.

| SDK                            | Source Code Reference                                                                                                          |
| ------------------------------ | ------------------------------------------------------------------------------------------------------------------------------ |
| `solana-sdk` (Rust)            | [`ComputeBudgetInstruction`](https://github.com/anza-xyz/agave/blob/v2.1.13/sdk/src/compute_budget.rs#L17-L31)                 |
| `@solana/web3.js` (Typescript) | [`ComputeBudgetProgram`](https://github.com/solana-foundation/solana-web3.js/blob/v1.98.0/src/programs/compute-budget.ts#L218) |

<CodeTabs storage="compute-budget">

```ts !! title="Typescript"
const limitInstruction = ComputeBudgetProgram.setComputeUnitLimit({
  units: 300_000
});

const priceInstruction = ComputeBudgetProgram.setComputeUnitPrice({
  microLamports: 1
});
```

```rust !! title="Rust"
let limit_instruction = ComputeBudgetInstruction::set_compute_unit_limit(300_000);

let price_instruction = ComputeBudgetInstruction::set_compute_unit_price(1);
```

</CodeTabs>

<CodeTabs storage="compute-budget" flags="r">

```ts !! title="Typescript"
import {
  LAMPORTS_PER_SOL,
  SystemProgram,
  Transaction,
  Keypair,
  Connection,
  ComputeBudgetProgram,
  sendAndConfirmTransaction
} from "@solana/web3.js";

const connection = new Connection("http://localhost:8899", "confirmed");

const sender = Keypair.generate();
const recipient = new Keypair();

const airdropSignature = await connection.requestAirdrop(
  sender.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(airdropSignature, "confirmed");

// Create compute budget instructions
const limitInstruction = ComputeBudgetProgram.setComputeUnitLimit({
  units: 300_000
});
const priceInstruction = ComputeBudgetProgram.setComputeUnitPrice({
  microLamports: 1
});

const transferInstruction = SystemProgram.transfer({
  fromPubkey: sender.publicKey,
  toPubkey: recipient.publicKey,
  lamports: 0.01 * LAMPORTS_PER_SOL
});

// Add the compute budget and transfer instructions to a new transaction
const transaction = new Transaction()
  .add(limitInstruction)
  .add(priceInstruction)
  .add(transferInstruction);

const signature = await sendAndConfirmTransaction(connection, transaction, [
  sender
]);

console.log("Transaction Signature:", signature);
```

```rust !! title="Rust"
use solana_client::nonblocking::rpc_client::RpcClient;
use solana_sdk::{
    commitment_config::CommitmentConfig,
    compute_budget::ComputeBudgetInstruction,
    native_token::LAMPORTS_PER_SOL,
    signature::{Keypair, Signer},
    system_instruction,
    transaction::Transaction,
};

#[tokio::main]
async fn main() -> anyhow::Result<()> {
    let client = RpcClient::new_with_commitment(
        String::from("http://localhost:8899"),
        CommitmentConfig::confirmed(),
    );

    let sender = Keypair::new();
    let recipient = Keypair::new();

    let airdrop_signature = client
        .request_airdrop(&sender.pubkey(), LAMPORTS_PER_SOL)
        .await?;

    loop {
        let confirmed = client.confirm_transaction(&airdrop_signature).await?;
        if confirmed {
            break;
        }
    }

    // Create compute budget instructions
    let limit_instruction = ComputeBudgetInstruction::set_compute_unit_limit(300_000);
    let price_instruction = ComputeBudgetInstruction::set_compute_unit_price(1);

    let transfer_amount = LAMPORTS_PER_SOL / 100;
    let transfer_instruction =
        system_instruction::transfer(&sender.pubkey(), &recipient.pubkey(), transfer_amount);

    let recent_blockhash = client.get_latest_blockhash().await?;

    let mut transaction = Transaction::new_with_payer(
        &[limit_instruction, price_instruction, transfer_instruction],
        Some(&sender.pubkey()),
    );
    transaction.sign(&[&sender], recent_blockhash);

    let signature = client.send_and_confirm_transaction(&transaction).await?;
    println!("Transaction Signature: {}", signature);

    Ok(())
}
```

</CodeTabs>

### Calculate transaction priority 
The
[transaction priority](https://github.com/anza-xyz/agave/blob/v2.2.14/core/src/banking_stage/transaction_scheduler/receive_and_buffer.rs#L646),
which determines how your transaction is prioritized relative to other transactions, is
calculated using the following formula:

**Priority = ((Compute Unit Limit Ã— Compute Unit Price) + Base Fee) / (1 +
Compute Unit Limit + Signature CUs + Write Lock CUs)**